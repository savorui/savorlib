{"version":3,"sources":["../src/index.tsx"],"sourcesContent":["import React, { ErrorInfo, ReactNode } from 'react';\n\nexport interface ErrorBoundaryProps {\n  children: ReactNode;\n}\n\ninterface State {\n  hasError: boolean;\n  error: Error | null;\n}\n\n// 使用 TypeScript 定义的 Props 和 State 接口来改进类型检查\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, State> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): State {\n    // 更新 state 以便下次渲染时能展示降级 UI\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: ErrorInfo) {\n    // 你也可以将错误日志上报给服务器\n    console.error(\"ErrorBoundary caught an error\", error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      // 你可以自定义降级 UI\n      return <h1>Something went wrong.</h1>;\n    }\n\n    return this.props.children;\n  }\n}\n\nexport default ErrorBoundary;\n"],"mappings":"0jBAAA,IAAAA,EAAA,GAAAC,EAAAD,EAAA,aAAAE,IAAA,eAAAC,EAAAH,GAAA,IAAAI,EAA4C,oBA+B/BC,EAAA,6BAnBPC,EAAN,cAA4B,EAAAC,QAAM,SAAqC,CACrE,YAAYC,EAA2B,CACrC,MAAMA,CAAK,EACX,KAAK,MAAQ,CAAE,SAAU,GAAO,MAAO,IAAK,CAC9C,CAEA,OAAO,yBAAyBC,EAAqB,CAEnD,MAAO,CAAE,SAAU,GAAM,MAAAA,CAAM,CACjC,CAEA,kBAAkBA,EAAcC,EAAsB,CAEpD,QAAQ,MAAM,gCAAiCD,EAAOC,CAAS,CACjE,CAEA,QAAS,CACP,OAAI,KAAK,MAAM,YAEN,OAAC,MAAG,iCAAqB,EAG3B,KAAK,MAAM,QACpB,CACF,EAEOR,EAAQI","names":["src_exports","__export","src_default","__toCommonJS","import_react","import_jsx_runtime","ErrorBoundary","React","props","error","errorInfo"]}